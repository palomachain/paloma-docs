<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Message with Pigeon | The Scrappy Messanger Chain</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Official Paloma chain documentation">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/paloma-docs/assets/css/0.styles.8fddd64b.css" as="style"><link rel="preload" href="/paloma-docs/assets/js/app.e40c76e8.js" as="script"><link rel="preload" href="/paloma-docs/assets/js/2.1fdbdfe2.js" as="script"><link rel="preload" href="/paloma-docs/assets/js/22.1cbfb257.js" as="script"><link rel="prefetch" href="/paloma-docs/assets/js/10.950d7182.js"><link rel="prefetch" href="/paloma-docs/assets/js/11.643315d0.js"><link rel="prefetch" href="/paloma-docs/assets/js/12.e485cced.js"><link rel="prefetch" href="/paloma-docs/assets/js/13.e8569ca1.js"><link rel="prefetch" href="/paloma-docs/assets/js/14.ddddc403.js"><link rel="prefetch" href="/paloma-docs/assets/js/15.44e5e036.js"><link rel="prefetch" href="/paloma-docs/assets/js/16.df0c85a3.js"><link rel="prefetch" href="/paloma-docs/assets/js/17.04ab9d3d.js"><link rel="prefetch" href="/paloma-docs/assets/js/18.a0251560.js"><link rel="prefetch" href="/paloma-docs/assets/js/19.e081162d.js"><link rel="prefetch" href="/paloma-docs/assets/js/20.3a89c129.js"><link rel="prefetch" href="/paloma-docs/assets/js/21.67bf544c.js"><link rel="prefetch" href="/paloma-docs/assets/js/23.38a75b84.js"><link rel="prefetch" href="/paloma-docs/assets/js/24.c0872872.js"><link rel="prefetch" href="/paloma-docs/assets/js/25.216e224a.js"><link rel="prefetch" href="/paloma-docs/assets/js/26.9e02e309.js"><link rel="prefetch" href="/paloma-docs/assets/js/27.e3b8c440.js"><link rel="prefetch" href="/paloma-docs/assets/js/28.1897ae40.js"><link rel="prefetch" href="/paloma-docs/assets/js/29.0ba30bc5.js"><link rel="prefetch" href="/paloma-docs/assets/js/3.601e0c55.js"><link rel="prefetch" href="/paloma-docs/assets/js/30.5b20594d.js"><link rel="prefetch" href="/paloma-docs/assets/js/4.a1b6e084.js"><link rel="prefetch" href="/paloma-docs/assets/js/5.62ecc74a.js"><link rel="prefetch" href="/paloma-docs/assets/js/6.1f639627.js"><link rel="prefetch" href="/paloma-docs/assets/js/7.0c461132.js"><link rel="prefetch" href="/paloma-docs/assets/js/8.a17fd264.js"><link rel="prefetch" href="/paloma-docs/assets/js/9.e49991d9.js">
    <link rel="stylesheet" href="/paloma-docs/assets/css/0.styles.8fddd64b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/paloma-docs/" class="home-link router-link-active"><!----> <span class="site-name">The Scrappy Messanger Chain</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/paloma-docs/guide/abstract.html" class="nav-link">
    Docs
  </a></div><div class="nav-item"><a href="https://www.palomachain.com/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
    Blog
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/palomachain/paloma" target="_blank" rel="noopener noreferrer" class="nav-link external">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/paloma-docs/guide/abstract.html" class="nav-link">
    Docs
  </a></div><div class="nav-item"><a href="https://www.palomachain.com/blog/" target="_blank" rel="noopener noreferrer" class="nav-link external">
    Blog
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/palomachain/paloma" target="_blank" rel="noopener noreferrer" class="nav-link external">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Explore</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/paloma-docs/guide/abstract.html" class="sidebar-link">Abstract</a></li><li><a href="/paloma-docs/guide/introduction.html" class="sidebar-link">Introduction</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Develop</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>Smart Contracts</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/paloma-docs/guide/contracts.html" class="sidebar-link">Writing a Contract</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Maintain</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/paloma-docs/guide/pigeon.html" aria-current="page" class="active sidebar-link">Message with Pigeon</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/paloma-docs/guide/pigeon.html#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/paloma-docs/guide/pigeon.html#configuration" class="sidebar-link">Configuration</a></li><li class="sidebar-sub-header"><a href="/paloma-docs/guide/pigeon.html#start-messaging" class="sidebar-link">Start messaging</a></li></ul></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Full node</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/paloma-docs/guide/node-management/full-node/system-config.html" class="sidebar-link">System configuration</a></li><li><a href="/paloma-docs/guide/node-management/full-node/build-paloma-core.html" class="sidebar-link">Build Paloma</a></li><li><a href="/paloma-docs/guide/node-management/full-node/set-up-production.html" class="sidebar-link">Set up a production environment</a></li><li><a href="/paloma-docs/guide/node-management/full-node/join-a-network.html" class="sidebar-link">Join a network</a></li><li><a href="/paloma-docs/guide/node-management/full-node/sync.html" class="sidebar-link">Sync</a></li><li><a href="/paloma-docs/guide/node-management/full-node/troubleshoot.html" class="sidebar-link">Reset and troubleshooting</a></li><li><a href="/paloma-docs/guide/node-management/full-node/updates-and-additional.html" class="sidebar-link">Updates and additional settings</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>Validate</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/paloma-docs/guide/validate/manage-a-paloma-validator/validate-paloma.html" class="sidebar-link">Get started</a></li><li><a href="/paloma-docs/guide/validate/manage-a-paloma-validator/set-up-validator.html" class="sidebar-link">How to run a Paloma Validator</a></li><li><a href="/paloma-docs/guide/validate/manage-a-paloma-validator/court-delegations.html" class="sidebar-link">Build a Delegator Community</a></li><li><a href="/paloma-docs/guide/validate/manage-a-paloma-validator/implement-security.html" class="sidebar-link">Key management and security practices</a></li><li><a href="/paloma-docs/guide/validate/manage-a-paloma-validator/troubleshoot-validator-problems.html" class="sidebar-link">Troubleshoot validator problems</a></li><li><a href="/paloma-docs/guide/validate/manage-a-paloma-validator/faq.html" class="sidebar-link">Validator FAQ</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="message-with-pigeon"><a href="#message-with-pigeon" class="header-anchor">#</a> Message with Pigeon</h1> <p>Pigeon is a Golang cross-chain message relayer system for Paloma
validators to deliver messages to any blockchain. Pigeon is actively
maintained by the Volume Finance team.</p> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <p>Start by installing the alpha release on your
validator environment:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> -O - https://github.com/palomachain/pigeon/releases/download/v0.2.5-alpha/pigeon_0.2.5-alpha_Linux_x86_64v3.tar.gz <span class="token operator">|</span> <span class="token punctuation">\</span>
<span class="token function">tar</span> -C /usr/local/bin -xvzf - pigeon
<span class="token function">chmod</span> +x /usr/local/bin/pigeon
<span class="token function">mkdir</span> ~/.pigeon
</code></pre></div><h3 id="set-your-keys"><a href="#set-your-keys" class="header-anchor">#</a> Set your keys</h3> <p>Next, set up your EVM keys:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>pigeon evm keys generate-new ~/.pigeon/keys/evm/eth-main
</code></pre></div><p>Or, you may import existing EVM private keys:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>pigeon evm keys <span class="token function">import</span> ~/.pigeon/keys/evm/eth-main
</code></pre></div><p>Ensure that your keys are stored safe and securly.</p> <h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h2> <p>Ensure your Paloma Cosmos-SDK keys are stored and available on
your environment with:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>palomad keys <span class="token function">add</span> <span class="token string">&quot;<span class="token variable">$VALIDATOR</span>&quot;</span> --recover
</code></pre></div><p>Set the VALIDATOR env variable:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">VALIDATOR</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span>palomad keys list --list-names <span class="token operator">|</span> <span class="token function">head</span> -n1<span class="token variable">)</span></span>&quot;</span>
</code></pre></div><p>In the pigeon directory, create your validator's configuration file
<code>~/.pigeon/config.yaml</code>.</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">loop-timeout</span><span class="token punctuation">:</span> 5s

<span class="token key atrule">paloma</span><span class="token punctuation">:</span>
  <span class="token key atrule">chain-id</span><span class="token punctuation">:</span> paloma<span class="token punctuation">-</span>testnet<span class="token punctuation">-</span><span class="token number">6</span>
  <span class="token key atrule">call-timeout</span><span class="token punctuation">:</span> 20s
  <span class="token key atrule">keyring-dir</span><span class="token punctuation">:</span> ~/.paloma
  <span class="token key atrule">keyring-pass-env-name</span><span class="token punctuation">:</span> PALOMA_KEYRING_PASS
  <span class="token key atrule">keyring-type</span><span class="token punctuation">:</span> test
  <span class="token key atrule">signing-key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>VALIDATOR<span class="token punctuation">}</span>
  <span class="token key atrule">base-rpc-url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">26657</span>
  <span class="token key atrule">gas-adjustment</span><span class="token punctuation">:</span> <span class="token number">1.5</span>
  <span class="token key atrule">gas-prices</span><span class="token punctuation">:</span> 0.001ugrain
  <span class="token key atrule">account-prefix</span><span class="token punctuation">:</span> paloma

<span class="token key atrule">evm</span><span class="token punctuation">:</span>
  <span class="token key atrule">eth-main</span><span class="token punctuation">:</span>
    <span class="token key atrule">chain-id</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">base-rpc-url</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>ETH_RPC_URL<span class="token punctuation">}</span>
    <span class="token key atrule">keyring-pass-env-name</span><span class="token punctuation">:</span> ETH_PASSWORD
    <span class="token key atrule">signing-key</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>ETH_SIGNING_KEY<span class="token punctuation">}</span>
    <span class="token key atrule">keyring-dir</span><span class="token punctuation">:</span> ~/.pigeon/keys/evm/eth<span class="token punctuation">-</span>main
</code></pre></div><h2 id="start-messaging"><a href="#start-messaging" class="header-anchor">#</a> Start messaging</h2> <p>Once the setup of Pigeon is successful, you can
start sending messages. Before that, Pigeon must know
the actor relaying message across the network by defining
its keys:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOT<span class="token bash punctuation"> <span class="token operator">&gt;</span>~/.pigeon/env.sh</span>
PALOMA_KEYRING_PASS=&lt;your Paloma key password&gt;
ETH_RPC_URL=&lt;Your Ethereum mainnet RPC URL&gt;
ETH_PASSWORD=&lt;Your ETH Key Password&gt;
ETH_SIGNING_KEY=&lt;Your ETH SIGNING KEY&gt;
VALIDATOR=&lt;VALIDATOR NAME&gt;
EOT</span>
</code></pre></div><p>Then, run Pigeon with:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">source</span> ~/.pigeon/env.sh
pigeon start
</code></pre></div><p>Pigeon will run in the background.</p> <h3 id="using-systemd-to-run-pigeon"><a href="#using-systemd-to-run-pigeon" class="header-anchor">#</a> Using systemd to run Pigeon</h3> <p>You can run Pigeon as a systemd process on your node
so that it will automatically restart on server reboots or crashes.
Validators are responsbile for actively maintaining relayed messages
and verifying the state of the chain.</p> <p>Create a new unit file with:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">touch</span> ~/.pigeon/env.sh
</code></pre></div><p>Populate <code>env.sh</code> with:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOT<span class="token bash punctuation"> <span class="token operator">&gt;</span>/etc/systemd/system/pigeond.service</span>
[Unit]
Description=Pigeon daemon
After=network-online.target
ConditionPathExists=/usr/local/bin/pigeon

[Service]
Type=simple
Restart=always
RestartSec=5
User=<span class="token variable">${<span class="token environment constant">USER</span>}</span>
WorkingDirectory=~
EnvironmentFile=<span class="token variable">${<span class="token environment constant">HOME</span>}</span>/.pigeon/env.sh
ExecStart=/usr/local/bin/pigeon start
ExecReload=

[Install]
WantedBy=multi-user.target
EOT</span>
</code></pre></div><p>Start Pigeon:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">service</span> pigeond start

<span class="token comment"># Check that it's running successfully:</span>
<span class="token function">service</span> pigeond status
<span class="token comment"># Or watch the logs:</span>
journalctl -u pigeond.service -f -n <span class="token number">100</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/paloma-docs/guide/contracts.html" class="prev">
          Writing a Contract
        </a></span> <span class="next"><a href="/paloma-docs/guide/node-management/full-node/system-config.html">
          System configuration
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/paloma-docs/assets/js/app.e40c76e8.js" defer></script><script src="/paloma-docs/assets/js/2.1fdbdfe2.js" defer></script><script src="/paloma-docs/assets/js/22.1cbfb257.js" defer></script>
  </body>
</html>
