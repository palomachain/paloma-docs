(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{285:function(t,e,a){"use strict";a.r(e);var s=a(13),n=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"updates-and-additional-settings"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#updates-and-additional-settings"}},[t._v("#")]),t._v(" Updates and additional settings")]),t._v(" "),e("h2",{attrs:{id:"upgrade-the-testnet"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#upgrade-the-testnet"}},[t._v("#")]),t._v(" Upgrade the testnet")]),t._v(" "),e("p",[t._v("These instructions are for full nodes running previous testnets that\nwould like to upgrade to the latest testnet.")]),t._v(" "),e("h3",{attrs:{id:"_1-reset-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-reset-data"}},[t._v("#")]),t._v(" 1. Reset data")]),t._v(" "),e("p",[t._v("Remove the outdated files and reset data:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" ~/.Paloma/config/genesis.json\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" ~/.Paloma/config/addrbook.json\nPalomad unsafe-reset-all\n")])])]),e("p",[t._v("Your node is now in a pristine state, keeping the original "),e("code",[t._v("priv_validator.json")]),t._v("\nand "),e("code",[t._v("config.toml")]),t._v(". If you had any sentry nodes or full nodes set up before,\nyour node will still try to connect to them but may fail if they haven't also been upgraded.")]),t._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"custom-block-title"},[t._v("DANGER")]),t._v(" "),e("p",[t._v("Make sure that every node has a unique "),e("code",[t._v("priv_validator.json")]),t._v(". Do not copy\nthe "),e("code",[t._v("priv_validator.json")]),t._v(" from an old node to multiple new nodes. Running\ntwo nodes with the same "),e("code",[t._v("priv_validator.json")]),t._v(" will cause you to double sign.")])]),t._v(" "),e("h3",{attrs:{id:"_2-software-upgrade"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-software-upgrade"}},[t._v("#")]),t._v(" 2. Software upgrade")]),t._v(" "),e("p",[t._v("Now it is time to upgrade the software. Go to the project directory and run:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout master "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" pull\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("If you have issues at this step, please check that you have a compatible\nversion of GO installed (v1.18+).")])]),t._v(" "),e("p",[t._v("The previous command uses "),e("code",[t._v("master")]),t._v(" as it contains the latest stable release.\nSee the "),e("a",{attrs:{href:"https://github.com/palomachain/testnet",target:"_blank",rel:"noopener noreferrer"}},[t._v("testnet repo"),e("OutboundLink")],1),t._v(" for details\non which version is needed for which testnet, and the\n"),e("a",{attrs:{href:"https://github.com/palomachain/testnet/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("Paloma release page"),e("OutboundLink")],1),t._v(" for details on each release.")]),t._v(" "),e("p",[t._v("Your full node is now cleanly upgraded!")]),t._v(" "),e("h2",{attrs:{id:"exporting-state"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exporting-state"}},[t._v("#")]),t._v(" Exporting state")]),t._v(" "),e("p",[t._v("Paloma can export the entire application state to a JSON file. You can use\nthis file for manual analysis or as the genesis file of a new network.")]),t._v(" "),e("p",[t._v("Export state:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("Palomad "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("filename"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(".json\n")])])]),e("p",[t._v("You can also export a state from a particular height. The following\ncommand will export the state after the block height you specify:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("Palomad "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" --height "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("height"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("filename"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(".json\n")])])]),e("p",[t._v("If you plan to start a new network from the exported state, export\nwith the "),e("code",[t._v("--for-zero-height")]),t._v(" flag:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("Palomad "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" --height "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("height"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" --for-zero-height "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("filename"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(".json\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("For more information on seeds and peers, visit the\n"),e("a",{attrs:{href:"https://github.com/tendermint/tendermint/blob/master/docs/tendermint-core/using-tendermint.md#peers",target:"_blank",rel:"noopener noreferrer"}},[t._v("Tendermint documentation"),e("OutboundLink")],1),t._v(".")])]),t._v(" "),e("h2",{attrs:{id:"additional-settings"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#additional-settings"}},[t._v("#")]),t._v(" Additional Settings")]),t._v(" "),e("h3",{attrs:{id:"seed-mode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#seed-mode"}},[t._v("#")]),t._v(" "),e("code",[t._v("seed_mode")])]),t._v(" "),e("p",[t._v("In seed mode, your node constantly crawls the network and looks\nfor peers. If another node asks it for addresses, it responds and\ndisconnects. Seed mode will not work if the peer-exchange reactor is\ndisabled.")]),t._v(" "),e("div",{staticClass:"language-toml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-toml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key property"}},[t._v("seed_mode")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])]),e("h3",{attrs:{id:"seeds"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#seeds"}},[t._v("#")]),t._v(" "),e("code",[t._v("seeds")])]),t._v(" "),e("p",[t._v("To manually identify seed nodes, edit the following setting in "),e("code",[t._v("config.toml")]),t._v(".")]),t._v(" "),e("div",{staticClass:"language-toml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-toml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Comma separated list of seed nodes to connect to")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key property"}},[t._v("seeds")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id100000000000000000000000000000000@1.2.3.4:26656,id200000000000000000000000000000000@2.3.4.5:4444"')]),t._v("\n")])])]),e("h3",{attrs:{id:"persistent-peers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#persistent-peers"}},[t._v("#")]),t._v(" "),e("code",[t._v("persistent_peers")])]),t._v(" "),e("p",[t._v("The nodes you specify are the trusted persistent peers that can\nhelp anchor your node in the p2p network. If the connection fails,\nthey are dialed and automatically redialed for 24 hours.\nThe automatic redial function uses exponential backoff and stops after\n24 hours of trying to connect.")]),t._v(" "),e("p",[t._v("If the value of "),e("code",[t._v("persistent_peers_max_dial_period")]),t._v(" is more than zero,\nthe pause between each call to each persistent peer will not exceed\n"),e("code",[t._v("persistent_peers_max_dial_period")]),t._v(" during exponential backoff, and the\nautomatic redial process continues.")]),t._v(" "),e("div",{staticClass:"language-toml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-toml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Comma separated list of nodes to keep persistent connections to")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token key property"}},[t._v("persistent_peers")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id100000000000000000000000000000000@1.2.3.4:26656,id200000000000000000000000000000000@2.3.4.5:26656"')]),t._v("\n")])])]),e("h3",{attrs:{id:"rosetta"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rosetta"}},[t._v("#")]),t._v(" Rosetta")]),t._v(" "),e("p",[t._v("Integrate Paloma with Coinbase via the Rosetta API. Rosetta is an\nopen-source API that organizes blockchain data into a standardized\nformat, making it easy for developers to build cross-chain applications.\nInstead of creating specific code for each chain, Rosetta allows different\nblockchains to integrate into any exchange that uses Rosetta API.")]),t._v(" "),e("p",[t._v("For more information, visit the "),e("a",{attrs:{href:"https://www.rosetta-api.org/docs/welcome.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Rosetta docs site"),e("OutboundLink")],1),t._v(".")])])}),[],!1,null,null,null);e.default=n.exports}}]);