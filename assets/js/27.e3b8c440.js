(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{291:function(a,e,t){"use strict";t.r(e);var s=t(13),n=Object(s.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"how-to-run-a-paloma-validator"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-run-a-paloma-validator"}},[a._v("#")]),a._v(" How to run a Paloma Validator")]),a._v(" "),e("p",[a._v("This is a detailed step-by-step guide for setting up a Paloma validator.\nPlease be aware that while it is easy to set up a rudimentary validating\nnode, running a production-quality validator node with a robust architecture\nand security features requires an extensive setup.")]),a._v(" "),e("p",[a._v("For more information on setting up a validator, see "),e("RouterLink",{attrs:{to:"/guide/validate/manage-a-paloma-validator/#additional-resources"}},[a._v("additional resources")]),a._v(".")],1),a._v(" "),e("h2",{attrs:{id:"prerequisites"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites"}},[a._v("#")]),a._v(" Prerequisites")]),a._v(" "),e("ul",[e("li",[a._v("You have completed "),e("RouterLink",{attrs:{to:"/guide/validate/run-a-full-Paloma-node/"}},[a._v("how to run a full Paloma node")]),a._v(",\nwhich outlines how to install, connect, and configure a node.")],1),a._v(" "),e("li",[a._v("You are familiar with "),e("RouterLink",{attrs:{to:"/guide/develop/Palomad/"}},[a._v("Palomad")]),a._v(".")],1),a._v(" "),e("li",[a._v("You have read through "),e("RouterLink",{attrs:{to:"/guide/validate/manage-a-paloma-validator/faq.html"}},[a._v("the validator FAQ")])],1),a._v(" "),e("li",[a._v("You understand the "),e("RouterLink",{attrs:{to:"/guide/validate/manage-a-paloma-validator/faq.html#what-are-the-different-types-of-keys"}},[a._v("different keys")]),a._v(" of a validator\nin the FAQ")],1)]),a._v(" "),e("h3",{attrs:{id:"technical-requirements"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#technical-requirements"}},[a._v("#")]),a._v(" Technical requirements")]),a._v(" "),e("p",[a._v("The following requirements are recommended for running Paloma:")]),a._v(" "),e("p",[a._v("At least 300 mbps of network bandwidth")]),a._v(" "),e("ul",[e("li",[a._v("4 core or higher CPU")]),a._v(" "),e("li",[a._v("32GB RAM")]),a._v(" "),e("li",[a._v("2TB NVME storage")]),a._v(" "),e("li",[a._v("At least 300mbps network bandwidth")])]),a._v(" "),e("p",[a._v("In addition to running a Paloma node, validators should develop monitoring,\nalerting and management solutions.")]),a._v(" "),e("p",[a._v("Validators should expect to perform regular software updates to accommodate\nupgrades and bug fixes. There will inevitably be issues with the network, and\nthis requires vigilance.")]),a._v(" "),e("p",[a._v("A successful validator operation will require the efforts of multiple highly\nskilled individuals and continuous operational attention. Running a validator\nis considerably more involved than mining bitcoin.")]),a._v(" "),e("h2",{attrs:{id:"becoming-a-validator"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#becoming-a-validator"}},[a._v("#")]),a._v(" Becoming a validator")]),a._v(" "),e("p",[a._v("Any participant in the network can signal their intent to become a validator by\ncreating a validator and registering its validator profile. The candidate then\nbroadcasts a "),e("code",[a._v("create-validator")]),a._v(" transaction, which contains the following data:")]),a._v(" "),e("ul",[e("li",[e("strong",[a._v("PubKey:")]),a._v(" Validator operators can have different accounts for validating and")]),a._v(" "),e("li",[a._v("holding liquid funds. The PubKey submitted must be associated with the private key")]),a._v(" "),e("li",[a._v("the validator will use to sign "),e("em",[a._v("prevotes")]),a._v(" and "),e("em",[a._v("precommits")]),a._v(".")]),a._v(" "),e("li",[e("strong",[a._v("Address:")]),a._v(" A "),e("code",[a._v("Palomavaloper-")]),a._v(" address. This is the address used to identify your")]),a._v(" "),e("li",[a._v("validator publicly. The private key associated with this address is used to bond,")]),a._v(" "),e("li",[a._v("unbond, and claim rewards.")]),a._v(" "),e("li",[e("strong",[a._v("Name")]),a._v(" (also known as the "),e("strong",[a._v("moniker")]),a._v(")")]),a._v(" "),e("li",[e("strong",[a._v("Website")]),a._v(" "),e("em",[a._v("(optional but recommended)")])]),a._v(" "),e("li",[e("strong",[a._v("Description")]),a._v(" "),e("em",[a._v("(optional but recommended)")])]),a._v(" "),e("li",[e("strong",[a._v("Initial commission rate:")]),a._v(" The commission rate on block provisions, block rewards\nand fees charged to delegators.")]),a._v(" "),e("li",[e("strong",[a._v("Maximum commission:")]),a._v(" The maximum commission rate which the validator will be allowed\nto charge. (This cannot be changed)")]),a._v(" "),e("li",[e("strong",[a._v("Commission change rate")]),a._v(": The maximum daily increase of the validator's commission\n(This cannot be changed).")]),a._v(" "),e("li",[e("strong",[a._v("Minimum self-bond amount")]),a._v(": The minimum amount of bonded Paloma the validator needs at\nall times. If the validator's self-bonded stake falls below this limit, its entire staking\npool will be unbonded.")]),a._v(" "),e("li",[e("strong",[a._v("Initial self-bond amount")]),a._v(": The initial amount of Paloma the validator self-bonds.")])]),a._v(" "),e("p",[e("strong",[a._v("Example:")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("Palomad tx staking create-validator\n    --pubkey Palomavalconspub1zcjduepqs5s0vddx5m65h5ntjzwd0x8g3245rgrytpds4ds7vdtlwx06mcesmnkzly\n    --amount "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2ugrain"')]),a._v("\n    --from tmp\n    --commission-rate"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"0.20"')]),a._v("\n    --commission-max-rate"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"1.00"')]),a._v("\n    --commission-max-change-rate"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"0.01"')]),a._v("\n    --min-self-delegation "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"1"')]),a._v("\n    --moniker "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"gazua"')]),a._v("\n    --chain-id "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"test-chain-uEe0bV"')]),a._v("\n    --gas auto\n    --node tcp://127.0.0.1:26647\n")])])]),e("p",[a._v("Once a validator is created and registered, GRAIN holders can delegate GRAIN to them,\neffectively adding stake to its pool. The total stake of a validator is the total of\ntheir self-bonded GRAIN plus the GRAIN bonded by external delegators.")]),a._v(" "),e("p",[e("strong",[a._v("Only the top 130 validators are considered active or "),e("em",[a._v("bonded validators")])]),a._v(". If a\nvalidator's total stake dips below the top 130, the validator loses its validator\nprivileges and no longer serves as part of the active set, entering into "),e("strong",[a._v("unbonding mode")]),a._v("\nand eventually becoming "),e("strong",[a._v("unbonded")]),a._v(", or inactive.")]),a._v(" "),e("h3",{attrs:{id:"validator-keys"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#validator-keys"}},[a._v("#")]),a._v(" Validator keys")]),a._v(" "),e("p",[e("strong",[a._v("Tendermint Consensus Keypair:")]),a._v(": This consensus keypair is on the\n"),e("a",{attrs:{href:"https://docs.tendermint.com/master/nodes/validators.html#validator-keys",target:"_blank",rel:"noopener noreferrer"}},[a._v("tendermint"),e("OutboundLink")],1),a._v("\nlayer and consists of a unique Private Key used to sign block hashes associated\nwith a Public Key "),e("code",[a._v("Palomavalconspub")]),a._v(".")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("This Keypair is generated when a node is created with "),e("code",[a._v("Palomad init")]),a._v(".")])]),a._v(" "),e("li",[e("p",[a._v("The Private Key can be found in the "),e("code",[a._v("priv_validator_key.json")]),a._v(" file in the "),e("code",[a._v("config")]),a._v("\ndirectory after runing "),e("code",[a._v("Palomad init")]),a._v(".")])]),a._v(" "),e("li",[e("p",[a._v("The Public Key is derived from the Private Key and can be found and seen by running\nthe command "),e("code",[a._v("Palomad tendermint show-validator")]),a._v(".")]),a._v(" "),e("p",[e("strong",[a._v("Example:")]),a._v(" "),e("code",[a._v("Palomavalconspub1zcjduc3qcyj09qc03elte23zwshdx92jm6ce88fgc90rtqhjx8v0608qh5ssp0w94c")])])])]),a._v(" "),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),e("p",[a._v("A validator requires the above key in order to identify itself on the network,\nsign blocks, and sign staking/operational transactions such as voting on\nGovernance proposals. It is the validator's sole responsibility to secure these\nkeys and have a contingency backup plan in the event of contingencies.")])]),a._v(" "),e("h2",{attrs:{id:"_1-retrieve-your-pubkey"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-retrieve-your-pubkey"}},[a._v("#")]),a._v(" 1. Retrieve your PubKey")]),a._v(" "),e("p",[a._v("The Consensus PubKey of your node is required to create a new validator.\nRun:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("--pubkey"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("Palomad tendermint show-validator"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n")])])]),e("h2",{attrs:{id:"_2-create-a-new-validator"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-create-a-new-validator"}},[a._v("#")]),a._v(" 2. Create a new validator")]),a._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[a._v("Get tokens")]),a._v(" "),e("p",[a._v("In order for Palomad to recognize a wallet address it must contain tokens.\nFor the testnet, use "),e("a",{attrs:{href:"https://faucet.Paloma.money/",target:"_blank",rel:"noopener noreferrer"}},[a._v("the faucet"),e("OutboundLink")],1),a._v(" to send GRAIN\nto your wallet. If you are on mainnet, send funds from an existing wallet.\n1-3 GRAIN are sufficient for most setup processes.")])]),a._v(" "),e("p",[a._v("To create the validator and initialize it with a self-delegation, run the\nfollowing command. "),e("code",[a._v("key-name")]),a._v(" is the name of the Application Operator Key\nthat is used to sign transactions.")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("Palomad tx staking create-validator "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --amount"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("5000000ugrain "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --pubkey"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("your-consensus-PubKey"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --moniker"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"<your-moniker>"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --chain-id"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("chain_id"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --from"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("key-name"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --commission-rate"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"0.10"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --commission-max-rate"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"0.20"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --commission-max-change-rate"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"0.01"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    --min-self-delegation"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"1"')]),a._v("\n")])])]),e("div",{staticClass:"custom-block warning"},[e("p",{staticClass:"custom-block-title"},[a._v("Caution")]),a._v(" "),e("p",[a._v("When you specify commission parameters, the "),e("code",[a._v("commission-max-change-rate")]),a._v("\nis measured as a percentage-point change of the "),e("code",[a._v("commission-rate")]),a._v(". For example,\na change from 1% to 2% is a 100% rate increase, but the "),e("code",[a._v("commission-max-change-rate")]),a._v("\nis measured as 1%.")])]),a._v(" "),e("h2",{attrs:{id:"_3-confirm-your-validator-is-active"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-confirm-your-validator-is-active"}},[a._v("#")]),a._v(" 3. Confirm your validator is active")]),a._v(" "),e("p",[a._v("If running the following command returns something, your validator is active:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("Palomad query tendermint-validator-set "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("Palomad tendermint show-validator"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v('"')]),a._v("\n")])])]),e("p",[a._v("You are looking for the "),e("code",[a._v("bech32")]),a._v(" encoded "),e("code",[a._v("address")]),a._v(" in the "),e("code",[a._v("~/.Paloma/config/priv_validator.json")]),a._v(" file.")]),a._v(" "),e("p",[a._v("::: {note}\nOnly the top 130 validators in voting power are included in the active validator set.\n:::")]),a._v(" "),e("h2",{attrs:{id:"_4-secure-your-keys-and-have-a-backup-plan"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-secure-your-keys-and-have-a-backup-plan"}},[a._v("#")]),a._v(" 4. Secure your keys and have a backup plan")]),a._v(" "),e("p",[a._v("Protecting and having a contingency backup plan for your\n"),e("RouterLink",{attrs:{to:"/guide/validate/manage-a-paloma-validator/faq.html#what-type-of-key-do-i-need-to-use"}},[a._v("keys")]),a._v(" will help mitigate catastrophic\nhardware or software failures of the node. It is a good practice to test your backup\nplan on a testnet node in case of node failure.")],1),a._v(" "),e("p",[a._v(":::note restore.md\n:::")]),a._v(" "),e("h2",{attrs:{id:"restore-a-paloma-validator"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#restore-a-paloma-validator"}},[a._v("#")]),a._v(" Restore a Paloma validator")]),a._v(" "),e("p",[a._v("A validator can be completely restored on a new Paloma\nnode with the following set of keys:")]),a._v(" "),e("ul",[e("li",[a._v("The Consensus key, stored in "),e("code",[a._v("~/.Paloma/config/priv_validator.json")])]),a._v(" "),e("li",[a._v("The mnemonic to the validator wallet")])]),a._v(" "),e("div",{staticClass:"custom-block danger"},[e("p",{staticClass:"custom-block-title"},[a._v("DANGER")]),a._v(" "),e("p",[a._v("Before proceeding, ensure that the existing\nvalidator is not active. Double voting has severe\nslashing consequences.")])]),a._v(" "),e("p",[a._v("To restore a validator:")]),a._v(" "),e("ol",[e("li",[a._v("Setup a full Paloma node synced up to the latest block.")]),a._v(" "),e("li",[a._v("Replace the "),e("code",[a._v("~/.Paloma/config/priv_validator.json")]),a._v(" file of the new node\nwith the associated file from the old node, then restart your node.")])])])}),[],!1,null,null,null);e.default=n.exports}}]);